{"mappings":"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","sources":["src/library.js","src/js/libraryMain.js","src/templates/templateLibraryCard.hbs","src/js/modalFilmLibrary.js"],"sourcesContent":["import { modal } from './js/components/modal.js';\nimport { libraryMain } from './js/libraryMain.js';\nimport { scroll } from './js/scroll.js';\nimport { users } from './js/components/createMarkupModalTeam';\nimport { dayNightBtn } from './js/components/dayNightBTN';\nimport {modalFilmLibrary} from './js/modalFilmLibrary';\n","import { refs } from './references/references.js';\nimport templateLibraryCard from '../templates/templateLibraryCard.hbs';\n\n\nrefs.btnQueue.addEventListener('click', drawMyQueue);\nexport function drawMyQueue() {\n  refs.galleryLibraryEl.innerHTML = '';\n\n  refs.btnWatched.classList.remove('active-lbr');\n  refs.btnQueue.classList.add('active-lbr');\n  const filmInLocal = JSON.parse(localStorage.getItem('Add-to-queue'));\n\n  if (!filmInLocal || !filmInLocal.length) {\n    refs.noCard.classList.remove('visually-hidden');\n    return;\n  }\n\n  refs.noCard.classList.add('visually-hidden');\n\n  templateInfoLibrary(filmInLocal);\n}\n\nfunction templateInfoLibrary(item) {\n  const cardArr = item.map(i => {\n    const genreFilmsArr = i.genres.map(genre => genre.name);\n    const genreFilmStr = genreFilmsArr.join(', ');\n    const genreVoit = i.vote_average.toFixed(1);\n    const year = i.release_date.slice(0, 4);\n    return {\n      poster_path: i.poster_path,\n      title: i.title,\n      id: i.id,\n      title: i.title,\n      name: i.name,\n      genreVoit,\n      original_title: i.original_title,\n      genreFilmStr,\n      year,\n    };\n  });\n\n  refs.galleryLibraryEl.innerHTML = templateLibraryCard(cardArr);\n}\n\nrefs.btnWatched.addEventListener('click', drawMyWatched);\nexport function drawMyWatched() {\n  refs.galleryLibraryEl.innerHTML = '';\n\n  refs.btnQueue.classList.remove('active-lbr');\n  refs.btnWatched.classList.add('active-lbr');\n\n  const filmInLocal = JSON.parse(localStorage.getItem('Add-to-watched'));\n  if (!filmInLocal || !filmInLocal.length) {\n    refs.noCard.classList.remove('visually-hidden');\n    return;\n  }\n  refs.noCard.classList.add('visually-hidden');\n  templateInfoLibrary(filmInLocal);\n}\n\ndrawMyWatched();\n\n","{{#each this}}\n  <div class='library-wraper'>\n    <a\n      class='library-gallery__item'\n      href='#'\n      target='_blank'\n      rel='noopener noreferrer'\n    >\n\n      <img\n        src='{{poster_path}}'\n        class='library-card__img'\n        alt='{{title}}{{name}}'\n        id='{{id}}'\n      />\n      <div class='library-info'>\n        <h3 class='library-info__title'>{{title}}{{name}}</h3>\n        <div class='wrap-library'>\n          <p class='library-info__genre'>{{genreFilmStr}}\n            |\n            {{year}}</p>\n          <span class='film-rating'>{{genreVoit}}</span>\n        </div>\n\n      </div>\n    </a>\n\n  </div>\n{{/each}}","import { refs } from './references/references';\nimport templateModalCard from '../templates/templateModalCard.hbs';\nimport { drawMyWatched } from './libraryMain';\nimport {drawMyQueue} from './libraryMain';\n\nrefs.galleryLibraryEl.addEventListener('click', onModalOpenFilmLibrary);\nrefs.btnAddToWatch.addEventListener('click', libraryButtons);\nrefs.btnAddToaddToQueue.addEventListener('click', libraryButtons);\n\n function onModalOpenFilmLibrary(e) {\n    e.preventDefault();\n\n    refs.filmCardEl.innerHTML = '';\n    //   refs.modalLoader.classList.add('loader-lines');\n    document.body.classList.add('body-is-hidden');\n\n    refs.modalFilmBtnClose.addEventListener('click', closeModal);\n    document.addEventListener('keydown', onEscBtnPress);\n    refs.modalBackdrop.addEventListener('click', onBackdropClick);\n\n    const idClickFilm = e.target.id;\n\n    getInfoFromLocalStorage(idClickFilm);\n\n   return idClickFilm;\n\n  };\n\n\n  function libraryButtons(event) {\n\n    let key = '';\n    if (event.target.classList.value === 'film-card-addToWatched') {\n      key = 'Add-to-watched';\n      console.log(key, 22);\n      // console.dir(event.target.textContent)\n      console.log(idFilm);\n    }\n    if (event.target.classList.value === 'film-card-addToQueue') {\n      key = 'Add-to-queue';\n      console.log(key, 23, event.target);\n      console.log(idFilm);\n    }\n\n    if (event.target.textContent === 'Remove Film') {\n\n        if (event.target.classList.value === 'film-card-addToWatched') {\n          console.log('www');\n        const index = filmInLocalAdd.findIndex(item => item.id === idFilm);\n        filmInLocalAdd.splice(index, 1);\n        console.log(filmInLocalAdd);\n        localStorage.setItem('Add-to-watched', JSON.stringify(filmInLocalAdd));\n          drawMyWatched();\n          event.target.textContent = 'Add to Watched';\n      }\n      if (event.target.classList.value === 'film-card-addToQueue') {\n        console.log('qqq');\n        const index = filmInLocalQu.findIndex(item => item.id === idFilm);\n        filmInLocalQu.splice(index, 1);\n        console.log(filmInLocalQu);\n        localStorage.setItem('Add-to-queue', JSON.stringify(filmInLocalQu));\n        drawMyQueue();\n        event.target.textContent = 'Add to Queue';\n      }\n    }\n\n    if (event.target.textContent === 'Add to queue') {\n      console.log('to queue');\n\n      const film = filmInLocalAdd.find(film => film.id === idFilm);\n      filmInLocalQu = [...filmInLocalQu, film];\n      console.log(filmInLocalQu);\n      localStorage.setItem('Add-to-queue', JSON.stringify(filmInLocalQu));\n      event.target.textContent = 'Remove Film';\n    }\n    if (event.target.textContent === 'Add to watched') {\n      console.log('to watched');\n      console.log(filmInLocalAdd);\n      const film = filmInLocalQu.find(film => film.id === idFilm);\n      filmInLocalAdd = [...filmInLocalAdd, film];\n      console.log(filmInLocalAdd);\n      localStorage.setItem('Add-to-watched', JSON.stringify(filmInLocalAdd));\n      event.target.textContent = 'Remove Film';\n    }\n\n  };\n\n\nfunction closeModal() {\n  refs.modalBackdrop.classList.remove('active');\n  refs.modalFilm.classList.remove('active');\n  document.body.classList.remove('body-is-hidden');\n\n  refs.modalFilmBtnClose.removeEventListener('click', closeModal);\n  document.removeEventListener('keydown', onEscBtnPress);\n  refs.modalBackdrop.removeEventListener('click', onBackdropClick);\n}\n\nexport function onEscBtnPress(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n\nexport function onBackdropClick(e) {\n  if (e.target === refs.modalBackdrop) {\n    closeModal();\n  }\n}\n\nlet idFilm = '';\nlet filmInLocalAdd = '';\nlet filmInLocalQu = '';\n\n  function getInfoFromLocalStorage(idfilm) {\n  filmInLocalAdd = JSON.parse(localStorage.getItem('Add-to-watched'));\n  filmInLocalQu = JSON.parse(localStorage.getItem('Add-to-queue'));\n  idfilm = Number(idfilm);\n\n  idFilm = idfilm;\n\n  //     //  можна переписати окремою функцією\n  if (filmInLocalAdd) {\n    filmInLocalAdd.find(item => {\n      return item.id === idfilm;\n    })\n      ? (refs.btnAddToWatch.textContent = 'Remove Film')\n      : (refs.btnAddToWatch.textContent = 'Add to watched');\n  }\n  if (filmInLocalQu) {\n    filmInLocalQu.find(item => {\n      return item.id === idfilm;\n    })\n      ? (refs.btnAddToaddToQueue.textContent = 'Remove Film')\n      : (refs.btnAddToaddToQueue.textContent = 'Add to queue');\n  }\n\n  refs.modalBackdrop.classList.add('active');\n  refs.modalFilm.classList.add('active');\n\n  // console.log(item.id);\n  filmInLocalAdd.find(i => {\n      if (i.id === idfilm) {\n        return createFilmCardsLibrary(i);\n      }\n    },\n  );\n  filmInLocalQu.find(i => {\n    if (i.id === idfilm) {\n      return createFilmCardsLibrary(i);\n    }\n  });\n  // createFilmCardsLibrary(idLibraryObj);\n}\n\n``;\n\nfunction createFilmCardsLibrary(i) {\n  //   refs.modalLoader.classList.remove('loader-points');\n  //   refs.modalLoader.classList.remove('loader-lines');\n\n  const genreArr = i.genres.map(genre => genre.name);\n  const genreStr = genreArr.join(', ');\n  const genreVoit = i.vote_average.toFixed(1);\n  const genrePopularity = Math.round(i.popularity);\n  const cardOb = {\n    poster_path: i.poster_path,\n    title: i.title,\n    id: i.id,\n    title: i.title,\n    name: i.name,\n    genreVoit,\n    vote_count: i.vote_count,\n    genrePopularity,\n    original_title: i.original_title,\n    genreStr,\n    overview: i.overview,\n  };\n  console.log(cardOb);\n  return refs.filmCardEl.innerHTML = templateModalCard(cardOb);\n}\n\n\n// функція що додає фільм в локалсторедж по ключу(текст який вказаний на кнопці), в задежносты на яку кнопку тиснеш\n//  function removeBtnLibrary(e) {\n\n//     let key = '';\n//     if (e.target.classList.value === 'film-card-addToWatched') {\n//       key = 'Add-to-watched';\n//       console.log(key, 22);\n//     }\n//     if (e.target.classList.value === 'film-card-addToQueue') {\n//       key = 'Add-to-queue';\n//       console.log(key, 23);\n\n\n//     key = key.trim().split(' ').join('-');\n\n//     if (\n//       refs.btnAddToWatch.textContent === 'Remove Film' &&\n//       e.target.classList.value === 'film-card-addToWatched'\n//     ) {\n//       const filmInLocal = JSON.parse(localStorage.getItem('Add-to-watched'));\n//       console.log(filmInLocal);\n//       const index = filmInLocal.findIndex(item => item.id === filmToAdd.id);\n//       filmInLocal.splice(index);\n//       console.log(filmInLocal);\n//       localStorage.removeItem('Add-to-watched');\n//       localStorage.setItem('Add-to-watched', JSON.stringify(filmInLocal));\n//       refs.btnAddToWatch.textContent = 'Add to watched';\n//       return;\n//     }\n\n//     if (\n//       refs.btnAddToaddToQueue.textContent === 'Remove Film' &&\n//       e.target.classList.value === 'film-card-addToQueue'\n//     ) {\n//       const filmInLocal = JSON.parse(localStorage.getItem('Add-to-queue'));\n//       console.log(filmInLocal, 14);\n//       const index = filmInLocal.findIndex(item => item.id === filmToAdd.id);\n//       filmInLocal.splice(index, 1);\n//       console.log(filmInLocal, 15);\n\n//       localStorage.removeItem('Add-to-queue');\n//       localStorage.setItem('Add-to-queue', JSON.stringify(filmInLocal));\n//       refs.btnAddToaddToQueue.textContent = 'Add to queue';\n//       return;\n//     }\n//     if (key === 'Add-to-watched') {\n//       refs.btnAddToWatch.textContent = 'Remove Film';\n//     } else {\n//       refs.btnAddToaddToQueue.textContent = 'Remove Film';\n//     }\n\n//     const filmInLocal = JSON.parse(localStorage.getItem(key));\n\n//     if (!filmInLocal) {\n//       console.log('Clear');\n//     } else {\n//       filmInLocal.map(i =>\n//         i.title ? console.log(i.title) : console.log(i.name)\n//       );\n//     }\n\n//     findMovies.queryType = 'full-info';\n\n//     if (filmToAdd === 'noAnswer') {\n//       filmToAdd = noAnswer;\n//     }\n//     console.log(filmToAdd.title);\n//     let filmArr = [];\n\n//     if (!filmInLocal) {\n//       if (!filmToAdd.title) {\n//         Notify.failure('Sorry error, try again');\n\n//         return;\n//       }\n//       filmArr.push(filmToAdd);\n//       localStorage.setItem(key, JSON.stringify(filmArr));\n\n//       console.log('localStorage was clear, Film Added');\n\n//       return;\n//     } else if (\n//       filmInLocal.find(item => item.id === filmToAdd.id) ||\n//       !filmToAdd.title\n//     ) {\n//       Notify.warning('Sorry, you have this film in the Library');\n//       return;\n//     }\n\n//     filmArr = [...filmInLocal, filmToAdd];\n//     filmArr.map(i => (i.title ? console.log(i.title) : console.log(i.name)));\n//     localStorage.setItem(key, JSON.stringify(filmArr));\n//     return;\n//   }\n// }"],"names":["parcelRequire","$hKHmD","$l5bVx","$56c45f905dfebaa6$export$2e2bcd8739ae039","$parcel$interopDefault","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","name","hash","loc","start","line","column","end","compiler","main","stack1","fn","program","inverse","noop","useData","$7aa847ad8e6becc4$export$ebdf996f1236c7ff","$cFfKp","refs","galleryLibraryEl","innerHTML","btnWatched","classList","remove","btnQueue","add","filmInLocal","JSON","parse","localStorage","getItem","length","noCard","$7aa847ad8e6becc4$var$templateInfoLibrary","item","cardArr","map","i","_obj","genreFilmStr","genres","genre","join","genreVoit","vote_average","toFixed","year","release_date","slice","poster_path","title","id","original_title","$7aa847ad8e6becc4$export$986d58e980c5d306","addEventListener","$b6503cb1c21ab734$var$libraryButtons","event","key","target","value","console","log","$b6503cb1c21ab734$var$idFilm","textContent","index","$b6503cb1c21ab734$var$filmInLocalAdd","findIndex","splice","setItem","stringify","index1","$b6503cb1c21ab734$var$filmInLocalQu","film2","find","film","$8nrFW","concat","film1","$b6503cb1c21ab734$var$closeModal","modalBackdrop","modalFilm","document","body","modalFilmBtnClose","removeEventListener","$b6503cb1c21ab734$export$93e6124d52ad50a8","$b6503cb1c21ab734$export$21e7b9f4635e7aa6","e","code","preventDefault","filmCardEl","idClickFilm","idfilm","Number","btnAddToWatch","btnAddToaddToQueue","$b6503cb1c21ab734$var$createFilmCardsLibrary","$b6503cb1c21ab734$var$getInfoFromLocalStorage","genreStr","genrePopularity","Math","round","popularity","cardOb","vote_count","overview","$ey2l5","default"],"version":3,"file":"library.783a847c.js.map"}