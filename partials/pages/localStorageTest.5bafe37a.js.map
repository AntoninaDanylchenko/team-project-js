{"mappings":"iiBAEA,IAAAA,EAAAC,EAAA,S,mCAeeC,I,OAAAA,EAAfC,EAAAH,EAAA,CAAAG,EAAAC,GAAAC,MAAA,SAAAC,I,IAEQC,EASAC,EAIFC,E,yEAZgB,QADdF,EAAcG,KAAKC,MAAMC,aAAaC,QAAQ,WAElDC,QAAQC,IAAI,UAGZD,QAAQC,IAAIR,EAAa,wCACzBA,EAAYS,KAAI,SAAAC,G,OAAKA,EAAEC,MAAQJ,QAAQC,IAAIE,EAAEC,OAASJ,QAAQC,IAAIE,EAAEE,K,cAG9CC,EAAOC,KAAeC,MAAK,SAAAC,G,OAAWA,C,cAAxDf,EAASgB,EAAAC,KACfX,QAAQC,IAAIP,EAAW,2CACvBM,QAAQC,IAAIP,EAAUU,OAElBT,EAAU,GAEM,OAAhBF,EAAoB,C,wBACEmB,IAApBlB,EAAUU,MAAmB,C,uBAC/BJ,QAAQC,IAAI,iC,kCAGUN,EAAhBkB,KAAKnB,GACbI,aAAagB,QAAQ,QAASlB,KAAKmB,UAAUpB,IAC7CK,QAAQC,IAAI,wC,+BAGLR,EAAYuB,MAAK,SAAAC,G,OAAQA,EAAKC,KAAOxB,EAAUwB,E,UAA2BN,IAApBlB,EAAUU,MAAmB,C,uBAE1FJ,QAAQC,IAAI,S,kCAGVD,QAAIC,IAAI,iCACWN,EAAZN,EAAA8B,EAAD,CAAI1B,GAAA2B,OAAJ,CAAiB1B,KACnBQ,KAAI,SAAAC,G,OAAKA,EAAEC,MAAQJ,QAAQC,IAAIE,EAAEC,OAASJ,QAAQC,IAAIE,EAAEE,K,IAChEP,aAAagB,QAAQ,QAASlB,KAAKmB,UAAUpB,I,gEAnCvB0B,MAAAC,KAAAC,U,CA6CsC,SAArDjB,EAAOY,GACd,OAAOM,MAAM,sCAAyCJ,OAAHF,EAAG,8CACrDV,MAAK,SAACiB,G,OAAMA,EAAEC,M,IAIO,IAAlBC,EAAS,SAACC,G,OAAOC,SAASC,cAAcF,E,EAQsB,SAA3DrB,IACP,IAAMwB,EAAY,CAAC,OAAQ,OAAQ,MAAO,OAAQ,OAAQ,OAAQ,QAC5DC,EAAQD,EAAUE,KAAKC,MAAMD,KAAKE,UAAYJ,EAAUK,OAAS,KAEvE,OADApC,QAAQC,IAAI+B,GACLA,C,CAToCL,EAAtC,eAAeU,iBAAiB,S,kBAtDxBjD,EAASiC,MAAAC,KAAAC,U,IAkEQI,EAAzB,gBAAgBU,iBAAiB,SAjFxC,SAAoBC,GAClBA,EAAEC,iBACAZ,EAAO,SAASa,UAAY,GAE9B,IACMC,EADc7C,KAAKC,MAAMC,aAAaC,QAAQ,UAC3BG,KAAI,SAACe,G,MAAQ,uCAE/BG,OADIH,EAAKb,MAAM,sBACCgB,OAAhBH,EAAKyB,WAAW,iB,IAEnBC,OACJ3C,QAAQC,IAAIwC,GACZd,EAAO,SAASa,UAAYC,C","sources":["src/js/localStorage/localStorage.js"],"sourcesContent":["\n//функція рендера сторінки My Library.\nfunction drawMyFilm(e) {\n  e.preventDefault();\n    someEl(\".card\").innerHTML = \"\";\n    \n  const filmInLocal = JSON.parse(localStorage.getItem(\"array\"));\n  const draw = filmInLocal.map((item) =>`<div class=\"container\">\n    <h4><b>${item.title}</b></h4>\n    <p>${item.vote_count}</p>\n  </div>`\n    ).join()\n  console.log(draw);\n  someEl(\".card\").innerHTML = draw;\n  }\n\n// функція додавання фільму до localStoreg.\nasync function locSetOne() {\n  // дістаємо фільми з LocalStoreg\n  const filmInLocal = JSON.parse(localStorage.getItem(\"array\"));\n  if (filmInLocal === null) {\n    console.log(\"Пусто\");\n  }\n  else {\n    console.log(filmInLocal, \"фільми що містяться у локал стореджі\");\n    filmInLocal.map(i => i.title ? console.log(i.title) : console.log(i.name));\n  }\n  // фільм який при натискані хочемо додати до localStoreg catchFilmId()\n  const filmToAdd = await myFilm(catchFilmId()).then(results => results);\n  console.log(filmToAdd, \"фільм що хочемо додати до локал сторедж\");\n  console.log(filmToAdd.title);\n  // масив що будемо додавати до localStorage\n  let filmArr = [];\n  // логіка додавання фільмів до localStoreg\n  if (filmInLocal === null) {\n    if (filmToAdd.title === undefined) {\n      console.log('стався збій, спробуйте ще раз');\n      return\n    }\n    filmArr.push(filmToAdd);\n    localStorage.setItem(\"array\", JSON.stringify(filmArr))\n    console.log(\"localStoreg була пуста, фільм додано\");\n    return\n  }\n  else if (filmInLocal.find(item => item.id === filmToAdd.id) || filmToAdd.title === undefined)\n  { \n    console.log(\"вже є\");\n    return\n  }\n  console.log(\"фільму ще не маю, добавляємо\");\n  filmArr = [...filmInLocal, filmToAdd];\n  filmArr.map(i => i.title ? console.log(i.title) : console.log(i.name));\n  localStorage.setItem(\"array\", JSON.stringify(filmArr));\n  return\n}\n\n\n\n// +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\nconst APIKEY = \"f68134e3023166cb9cb0f095aa9e1cfe\";\n\n// функція отримання фільму по id, ПОТРІБНО БУДЕ ПЕРЕВИКОРИСТАТИ ФЦНКЦІЮ ЮРІЯ\nfunction myFilm(id) {\n  return fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=f68134e3023166cb9cb0f095aa9e1cfe`)\n  .then((r) => r.json());\n}\n\n// функція вибору елементу дом\nconst someEl = (el) => document.querySelector(el);\n\n// СЛУХАЧ ЯКИЙ ПРИ НАТИСКАННІ НА КНОПКУ ДОБАВЛЯЄ ФІЛЬМ В LocalStoreg\nsomeEl(\".BtnTestAdd\").addEventListener(\"click\", locSetOne)\n\n\n\n// функція рандомного id фільма для тесту, потрібно буде використовувати айді фільма\nfunction catchFilmId() {\n  const filmIdArr = [436270, 505642, 90669, 119051, 668461, 632856, 338958]\n  const filmId =filmIdArr[Math.floor(Math.random() * (filmIdArr.length - 0))];\n  console.log(filmId);\n  return filmId\n}\n// Малювання сторінки на основі данних з LocalStorage\nsomeEl(\".BtnTestShow\").addEventListener(\"click\", drawMyFilm);\n\n//функція рендера сторінки My Library\n"],"names":["$bpxeT","parcelRequire","$603ee17184359926$var$_locSetOne","$parcel$interopDefault","$2TvXO","mark","_callee","filmInLocal","filmToAdd","filmArr","JSON","parse","localStorage","getItem","console","log","map","i","title","name","$603ee17184359926$var$myFilm","$603ee17184359926$var$catchFilmId","then","results","_ctx","sent","undefined","push","setItem","stringify","find","item","id","$8nrFW","concat","apply","this","arguments","fetch","r","json","$603ee17184359926$var$someEl","el","document","querySelector","filmIdArr","filmId","Math","floor","random","length","addEventListener","e","preventDefault","innerHTML","draw","vote_count","join"],"version":3,"file":"localStorageTest.5bafe37a.js.map"}