{"mappings":"AAoEwB,MAAlBA,EAAUC,GAAOC,SAASC,cAAcF,GAGDD,EAAtC,eAAeI,iBAAiB,SAtDfC,iBAEP,MAATC,EAAcC,KAAKC,MAAMC,aAAaC,QAAQ,UAChC,OAAhBJ,EACFK,QAAQC,IAAI,UAGZD,QAAQC,IAAIN,EAAa,wCACMA,EAAnBO,KAAIC,GAAKA,EAAEC,MAAQJ,QAAQC,IAAIE,EAAEC,OAASJ,QAAQC,IAAIE,EAAEE,SAGnC,MAA7BC,QAkCQC,EAcoD,WAClE,MAAMC,EAAY,CAAC,OAAQ,OAAQ,MAAO,OAAQ,OAAQ,OAAQ,QAC5DC,EAAQD,EAAUE,KAAKC,MAAMD,KAAKE,UAAYJ,EAAUK,OAAS,KAEvE,OADAb,QAAQC,IAAIQ,GACLA,C,CApDwBK,GAmCxBC,MAAM,sCAAsCR,8CAClDS,MAAMC,GAAMA,EAAEC,UApC+BF,MAAKG,GAAWA,IAkCF,IAA9CZ,EAjCdP,QAAQC,IAAIK,EAAW,2CACUN,QAAzBC,IAAIK,EAAUF,OAEC,IAAnBgB,EAAU,GAEU,GAAJ,OAAhBzB,EACF,YAAwB0B,IAApBf,EAAUF,WACZJ,QAAQC,IAAI,kCAGdmB,EAAQE,KAAKhB,GACbR,aAAayB,QAAQ,QAAS3B,KAAK4B,UAAUJ,SAC7CpB,QAAQC,IAAI,yCAGLN,EAAY8B,MAAKC,GAAQA,EAAKnB,KAAOD,EAAUC,WAA2Bc,IAApBf,EAAUF,MAEvEJ,QAAQC,IAAI,UAGdD,QAAQC,IAAI,gCACWmB,EAAb,IAAIzB,EAAaW,GAC3Bc,EAAQlB,KAAIC,GAAKA,EAAEC,MAAQJ,QAAQC,IAAIE,EAAEC,OAASJ,QAAQC,IAAIE,EAAEE,QAChEP,aAAayB,QAAQ,QAAS3B,KAAK4B,UAAUJ,I,IA+Bf/B,EAAzB,gBAAgBI,iBAAiB,SAjFlB,SAAFkC,GAClBA,EAAEC,iBACAvC,EAAO,SAASwC,UAAY,GAE9B,MACMC,EADclC,KAAKC,MAAMC,aAAaC,QAAQ,UAC3BG,KAAKwB,GAAQ,uCAC3BA,EAAKtB,0BACTsB,EAAKK,6BAERC,OACJhC,QAAQC,IAAI6B,GACZzC,EAAO,SAASwC,UAAYC,C","sources":["src/js/localStorage/localStorage.js"],"sourcesContent":["\n//функція рендера сторінки My Library.\nfunction drawMyFilm(e) {\n  e.preventDefault();\n    someEl(\".card\").innerHTML = \"\";\n    \n  const filmInLocal = JSON.parse(localStorage.getItem(\"array\"));\n  const draw = filmInLocal.map((item) =>`<div class=\"container\">\n    <h4><b>${item.title}</b></h4>\n    <p>${item.vote_count}</p>\n  </div>`\n    ).join()\n  console.log(draw);\n  someEl(\".card\").innerHTML = draw;\n  }\n\n// функція додавання фільму до localStoreg.\nasync function locSetOne() {\n  // дістаємо фільми з LocalStoreg\n  const filmInLocal = JSON.parse(localStorage.getItem(\"array\"));\n  if (filmInLocal === null) {\n    console.log(\"Пусто\");\n  }\n  else {\n    console.log(filmInLocal, \"фільми що містяться у локал стореджі\");\n    filmInLocal.map(i => i.title ? console.log(i.title) : console.log(i.name));\n  }\n  // фільм який при натискані хочемо додати до localStoreg catchFilmId()\n  const filmToAdd = await myFilm(catchFilmId()).then(results => results);\n  console.log(filmToAdd, \"фільм що хочемо додати до локал сторедж\");\n  console.log(filmToAdd.title);\n  // масив що будемо додавати до localStorage\n  let filmArr = [];\n  // логіка додавання фільмів до localStoreg\n  if (filmInLocal === null) {\n    if (filmToAdd.title === undefined) {\n      console.log('стався збій, спробуйте ще раз');\n      return\n    }\n    filmArr.push(filmToAdd);\n    localStorage.setItem(\"array\", JSON.stringify(filmArr))\n    console.log(\"localStoreg була пуста, фільм додано\");\n    return\n  }\n  else if (filmInLocal.find(item => item.id === filmToAdd.id) || filmToAdd.title === undefined)\n  { \n    console.log(\"вже є\");\n    return\n  }\n  console.log(\"фільму ще не маю, добавляємо\");\n  filmArr = [...filmInLocal, filmToAdd];\n  filmArr.map(i => i.title ? console.log(i.title) : console.log(i.name));\n  localStorage.setItem(\"array\", JSON.stringify(filmArr));\n  return\n}\n\n\n\n// +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\nconst APIKEY = \"f68134e3023166cb9cb0f095aa9e1cfe\";\n\n// функція отримання фільму по id, ПОТРІБНО БУДЕ ПЕРЕВИКОРИСТАТИ ФЦНКЦІЮ ЮРІЯ\nfunction myFilm(id) {\n  return fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=f68134e3023166cb9cb0f095aa9e1cfe`)\n  .then((r) => r.json());\n}\n\n// функція вибору елементу дом\nconst someEl = (el) => document.querySelector(el);\n\n// СЛУХАЧ ЯКИЙ ПРИ НАТИСКАННІ НА КНОПКУ ДОБАВЛЯЄ ФІЛЬМ В LocalStoreg\nsomeEl(\".BtnTestAdd\").addEventListener(\"click\", locSetOne)\n\n\n\n// функція рандомного id фільма для тесту, потрібно буде використовувати айді фільма\nfunction catchFilmId() {\n  const filmIdArr = [436270, 505642, 90669, 119051, 668461, 632856, 338958]\n  const filmId =filmIdArr[Math.floor(Math.random() * (filmIdArr.length - 0))];\n  console.log(filmId);\n  return filmId\n}\n// Малювання сторінки на основі данних з LocalStorage\nsomeEl(\".BtnTestShow\").addEventListener(\"click\", drawMyFilm);\n\n//функція рендера сторінки My Library\n"],"names":["$a44aee608a77035f$var$someEl","el","document","querySelector","addEventListener","async","filmInLocal","JSON","parse","localStorage","getItem","console","log","map","i","title","name","filmToAdd","id","filmIdArr","filmId","Math","floor","random","length","$a44aee608a77035f$var$catchFilmId","fetch","then","r","json","results","filmArr","undefined","push","setItem","stringify","find","item","e","preventDefault","innerHTML","draw","vote_count","join"],"version":3,"file":"localStorageTest.a848b43c.js.map"}