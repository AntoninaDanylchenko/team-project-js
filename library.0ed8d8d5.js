!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l={},t={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in l)return l[e].exports;if(e in t){var n=t[e];delete t[e];var a={id:e,exports:{}};return l[e]=a,n.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){t[e]=n},n.parcelRequired7c6=a),a("8BR1R");var r=a("hKHmD"),i=a("cFfKp"),o=a("l5bVx"),d=e(a("WMajR")).template({1:function(n,l,t,a,r){var i,d=null!=l?l:n.nullContext||{},s=n.hooks.helperMissing,c="function",u=n.escapeExpression,m=n.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"  <div class='library-wraper'>\n    <a\n      class='library-gallery__item'\n      href='#'\n      target='_blank'\n      rel='noopener noreferrer'\n    >\n\n      <img\n        src='"+u((void 0===(i=null!=(i=m(t,"poster_path")||(null!=l?m(l,"poster_path"):l))?i:s)?"undefined":e(o)(i))===c?i.call(d,{name:"poster_path",hash:{},data:r,loc:{start:{line:11,column:13},end:{line:11,column:28}}}):i)+"'\n        class='library-card__img'\n        alt='"+u((void 0===(i=null!=(i=m(t,"title")||(null!=l?m(l,"title"):l))?i:s)?"undefined":e(o)(i))===c?i.call(d,{name:"title",hash:{},data:r,loc:{start:{line:13,column:13},end:{line:13,column:22}}}):i)+u((void 0===(i=null!=(i=m(t,"name")||(null!=l?m(l,"name"):l))?i:s)?"undefined":e(o)(i))===c?i.call(d,{name:"name",hash:{},data:r,loc:{start:{line:13,column:22},end:{line:13,column:30}}}):i)+"'\n        id='"+u((void 0===(i=null!=(i=m(t,"id")||(null!=l?m(l,"id"):l))?i:s)?"undefined":e(o)(i))===c?i.call(d,{name:"id",hash:{},data:r,loc:{start:{line:14,column:12},end:{line:14,column:18}}}):i)+"'\n      />\n      <div class='library-info'>\n        <h3 class='library-info__title'>"+u((void 0===(i=null!=(i=m(t,"title")||(null!=l?m(l,"title"):l))?i:s)?"undefined":e(o)(i))===c?i.call(d,{name:"title",hash:{},data:r,loc:{start:{line:17,column:40},end:{line:17,column:49}}}):i)+u((void 0===(i=null!=(i=m(t,"name")||(null!=l?m(l,"name"):l))?i:s)?"undefined":e(o)(i))===c?i.call(d,{name:"name",hash:{},data:r,loc:{start:{line:17,column:49},end:{line:17,column:57}}}):i)+"</h3>\n        <div class='wrap-library'>\n          <p class='library-info__genre'>"+u((void 0===(i=null!=(i=m(t,"genreFilmStr")||(null!=l?m(l,"genreFilmStr"):l))?i:s)?"undefined":e(o)(i))===c?i.call(d,{name:"genreFilmStr",hash:{},data:r,loc:{start:{line:19,column:41},end:{line:19,column:57}}}):i)+"|\n            "+u((void 0===(i=null!=(i=m(t,"year")||(null!=l?m(l,"year"):l))?i:s)?"undefined":e(o)(i))===c?i.call(d,{name:"year",hash:{},data:r,loc:{start:{line:20,column:12},end:{line:20,column:20}}}):i)+"</p>\n          <span class='film-rating'>"+u((void 0===(i=null!=(i=m(t,"genreVoit")||(null!=l?m(l,"genreVoit"):l))?i:s)?"undefined":e(o)(i))===c?i.call(d,{name:"genreVoit",hash:{},data:r,loc:{start:{line:21,column:36},end:{line:21,column:49}}}):i)+"</span>\n        </div>\n\n      </div>\n    </a>\n\n  </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,l,t,a){var r;return null!=(r=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(l,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:28,column:9}}}))?r:""},useData:!0});function s(n){var l=n.map((function(n){var l,t=n.genres.map((function(e){return e.name})).join(", "),a=n.vote_average.toFixed(1),i=n.release_date.slice(0,4);return l={poster_path:n.poster_path,title:n.title,id:n.id},e(r)(l,"title",n.title),e(r)(l,"name",n.name),e(r)(l,"genreVoit",a),e(r)(l,"original_title",n.original_title),e(r)(l,"genreFilmStr",t),e(r)(l,"year",i),l}));i.refs.galleryLibraryEl.innerHTML=d(l)}function c(){i.refs.galleryLibraryEl.innerHTML="",i.refs.btnQueue.classList.remove("active-lbr"),i.refs.btnWatched.classList.add("active-lbr");var e=JSON.parse(localStorage.getItem("Add-to-watched"));e&&e.length?(i.refs.noCard.classList.add("visually-hidden"),s(e)):i.refs.noCard.classList.remove("visually-hidden")}i.refs.btnQueue.addEventListener("click",(function(){i.refs.galleryLibraryEl.innerHTML="",i.refs.btnWatched.classList.remove("active-lbr"),i.refs.btnQueue.classList.add("active-lbr");var e=JSON.parse(localStorage.getItem("Add-to-queue"));if(!e||!e.length)return void i.refs.noCard.classList.remove("visually-hidden");i.refs.noCard.classList.add("visually-hidden"),s(e)})),i.refs.btnWatched.addEventListener("click",c),c(),a("j1Fxp"),a("lfkk0"),a("3MHTz");r=a("hKHmD"),i=a("cFfKp");var u=a("ey2l5");function m(){i.refs.modalBackdrop.classList.remove("active"),i.refs.modalFilm.classList.remove("active"),document.body.classList.remove("body-is-hidden"),i.refs.modalFilmBtnClose.removeEventListener("click",m),document.removeEventListener("keydown",f),i.refs.modalBackdrop.removeEventListener("click",v)}function f(e){"Escape"===e.code&&m()}function v(e){e.target===i.refs.modalBackdrop&&m()}i.refs.galleryLibraryEl.addEventListener("click",(function(n){n.preventDefault(),i.refs.filmCardEl.innerHTML="",document.body.classList.add("body-is-hidden"),i.refs.modalFilmBtnClose.addEventListener("click",m),document.addEventListener("keydown",f),i.refs.modalBackdrop.addEventListener("click",v);var l=n.target.id;console.log(l),function(n){var l=JSON.parse(localStorage.getItem("Add-to-watched")),t=JSON.parse(localStorage.getItem("Add-to-queue"));n=Number(n);var a=l.find((function(e){if(e.id===n)return e}));console.log(a),l&&(l.find((function(e){return e.id===n}))?i.refs.btnAddToWatch.textContent="Remove Film":i.refs.btnAddToWatch.textContent="Add to watched");t&&(t.find((function(e){return e.id===n}))?i.refs.btnAddToaddToQueue.textContent="Remove Film":i.refs.btnAddToaddToQueue.textContent="Add to queue");i.refs.modalBackdrop.classList.add("active"),i.refs.modalFilm.classList.add("active"),o=a,s=o.genres.map((function(e){return e.name})).join(", "),c=o.vote_average.toFixed(1),m=Math.round(o.popularity),d={poster_path:o.poster_path,title:o.title,id:o.id},e(r)(d,"title",o.title),e(r)(d,"name",o.name),e(r)(d,"genreVoit",c),e(r)(d,"vote_count",o.vote_count),e(r)(d,"genrePopularity",m),e(r)(d,"original_title",o.original_title),e(r)(d,"genreStr",s),e(r)(d,"overview",o.overview),f=d,console.log(f),i.refs.filmCardEl.innerHTML=(0,u.default)(f);var o,d,s,c,m,f}(l)}))}();
//# sourceMappingURL=library.0ed8d8d5.js.map
