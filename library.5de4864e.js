!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},l={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in l){var t=l[e];delete l[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){l[e]=t},t.parcelRequired7c6=a),a("8BR1R");var o=a("hKHmD"),r=a("cFfKp"),i=a("l5bVx"),d=e(a("WMajR")).template({1:function(t,n,l,a,o){var r,d=null!=n?n:t.nullContext||{},s=t.hooks.helperMissing,c="function",u=t.escapeExpression,f=t.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"  <div class='library-wraper'>\n    <a\n      class='library-gallery__item'\n      href='#'\n      target='_blank'\n      rel='noopener noreferrer'\n    >\n\n      <img\n        src='"+u((void 0===(r=null!=(r=f(l,"poster_path")||(null!=n?f(n,"poster_path"):n))?r:s)?"undefined":e(i)(r))===c?r.call(d,{name:"poster_path",hash:{},data:o,loc:{start:{line:11,column:13},end:{line:11,column:28}}}):r)+"'\n        class='library-card__img'\n        alt='"+u((void 0===(r=null!=(r=f(l,"title")||(null!=n?f(n,"title"):n))?r:s)?"undefined":e(i)(r))===c?r.call(d,{name:"title",hash:{},data:o,loc:{start:{line:13,column:13},end:{line:13,column:22}}}):r)+u((void 0===(r=null!=(r=f(l,"name")||(null!=n?f(n,"name"):n))?r:s)?"undefined":e(i)(r))===c?r.call(d,{name:"name",hash:{},data:o,loc:{start:{line:13,column:22},end:{line:13,column:30}}}):r)+"'\n        id='"+u((void 0===(r=null!=(r=f(l,"id")||(null!=n?f(n,"id"):n))?r:s)?"undefined":e(i)(r))===c?r.call(d,{name:"id",hash:{},data:o,loc:{start:{line:14,column:12},end:{line:14,column:18}}}):r)+"'\n      />\n      <div class='library-info'>\n        <h3 class='library-info__title'>"+u((void 0===(r=null!=(r=f(l,"title")||(null!=n?f(n,"title"):n))?r:s)?"undefined":e(i)(r))===c?r.call(d,{name:"title",hash:{},data:o,loc:{start:{line:17,column:40},end:{line:17,column:49}}}):r)+u((void 0===(r=null!=(r=f(l,"name")||(null!=n?f(n,"name"):n))?r:s)?"undefined":e(i)(r))===c?r.call(d,{name:"name",hash:{},data:o,loc:{start:{line:17,column:49},end:{line:17,column:57}}}):r)+"</h3>\n        <div class='wrap-library'>\n          <p class='library-info__genre'>"+u((void 0===(r=null!=(r=f(l,"genreFilmStr")||(null!=n?f(n,"genreFilmStr"):n))?r:s)?"undefined":e(i)(r))===c?r.call(d,{name:"genreFilmStr",hash:{},data:o,loc:{start:{line:19,column:41},end:{line:19,column:57}}}):r)+"\n            |\n            "+u((void 0===(r=null!=(r=f(l,"year")||(null!=n?f(n,"year"):n))?r:s)?"undefined":e(i)(r))===c?r.call(d,{name:"year",hash:{},data:o,loc:{start:{line:21,column:12},end:{line:21,column:20}}}):r)+"</p>\n          <span class='film-rating'>"+u((void 0===(r=null!=(r=f(l,"genreVoit")||(null!=n?f(n,"genreVoit"):n))?r:s)?"undefined":e(i)(r))===c?r.call(d,{name:"genreVoit",hash:{},data:o,loc:{start:{line:22,column:36},end:{line:22,column:49}}}):r)+"</span>\n        </div>\n\n      </div>\n    </a>\n\n  </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,l,a){var o;return null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:29,column:9}}}))?o:""},useData:!0});function s(){r.refs.galleryLibraryEl.innerHTML="",r.refs.btnWatched.classList.remove("active-lbr"),r.refs.btnQueue.classList.add("active-lbr");var e=JSON.parse(localStorage.getItem("Add-to-queue"));e&&e.length?(r.refs.noCard.classList.add("visually-hidden"),c(e)):r.refs.noCard.classList.remove("visually-hidden")}function c(t){var n=t.map((function(t){var n,l=t.genres.map((function(e){return e.name})).join(", "),a=t.vote_average.toFixed(1),r=t.release_date.slice(0,4);return n={poster_path:t.poster_path,title:t.title,id:t.id},e(o)(n,"title",t.title),e(o)(n,"name",t.name),e(o)(n,"genreVoit",a),e(o)(n,"original_title",t.original_title),e(o)(n,"genreFilmStr",l),e(o)(n,"year",r),n}));r.refs.galleryLibraryEl.innerHTML=d(n)}function u(){r.refs.galleryLibraryEl.innerHTML="",r.refs.btnQueue.classList.remove("active-lbr"),r.refs.btnWatched.classList.add("active-lbr");var e=JSON.parse(localStorage.getItem("Add-to-watched"));e&&e.length?(r.refs.noCard.classList.add("visually-hidden"),c(e)):r.refs.noCard.classList.remove("visually-hidden")}r.refs.btnQueue.addEventListener("click",s),r.refs.btnWatched.addEventListener("click",u),u(),a("j1Fxp"),a("lfkk0"),a("3MHTz");o=a("hKHmD");var f=a("8nrFW"),m=(r=a("cFfKp"),a("ey2l5"));function v(t){var n="";if("film-card-addToWatched"===t.target.classList.value&&(n="Add-to-watched",console.log(n,22),console.log(y)),"film-card-addToQueue"===t.target.classList.value&&(n="Add-to-queue",console.log(n,23,t.target),console.log(y)),"Remove Film"===t.target.textContent){if("film-card-addToWatched"===t.target.classList.value){console.log("www");var l=b.findIndex((function(e){return e.id===y}));b.splice(l,1),console.log(b),localStorage.setItem("Add-to-watched",JSON.stringify(b)),u(),t.target.textContent="Add to Watched"}if("film-card-addToQueue"===t.target.classList.value){console.log("qqq");var a=L.findIndex((function(e){return e.id===y}));L.splice(a,1),console.log(L),localStorage.setItem("Add-to-queue",JSON.stringify(L)),s(),t.target.textContent="Add to Queue"}}if("Add to queue"===t.target.textContent){console.log("to queue");var o=b.find((function(e){return e.id===y}));L=e(f)(L).concat([o]),console.log(L),localStorage.setItem("Add-to-queue",JSON.stringify(L)),t.target.textContent="Remove Film"}if("Add to watched"===t.target.textContent){console.log("to watched"),console.log(b);var r=L.find((function(e){return e.id===y}));b=e(f)(b).concat([r]),console.log(b),localStorage.setItem("Add-to-watched",JSON.stringify(b)),t.target.textContent="Remove Film"}}function g(){r.refs.modalBackdrop.classList.remove("active"),r.refs.modalFilm.classList.remove("active"),document.body.classList.remove("body-is-hidden"),r.refs.modalFilmBtnClose.removeEventListener("click",g),document.removeEventListener("keydown",p),r.refs.modalBackdrop.removeEventListener("click",h)}function p(e){"Escape"===e.code&&g()}function h(e){e.target===r.refs.modalBackdrop&&g()}r.refs.galleryLibraryEl.addEventListener("click",(function(e){if(e.preventDefault(),"DIV"===e.target.nodeName)return;r.refs.filmCardEl.innerHTML="",document.body.classList.add("body-is-hidden"),r.refs.modalFilmBtnClose.addEventListener("click",g),document.addEventListener("keydown",p),r.refs.modalBackdrop.addEventListener("click",h);var t=e.target.id;return function(e){b=JSON.parse(localStorage.getItem("Add-to-watched")),L=JSON.parse(localStorage.getItem("Add-to-queue")),e=Number(e),y=e,b&&(b.find((function(t){return t.id===e}))?r.refs.btnAddToWatch.textContent="Remove Film":r.refs.btnAddToWatch.textContent="Add to watched");L&&(L.find((function(t){return t.id===e}))?r.refs.btnAddToaddToQueue.textContent="Remove Film":r.refs.btnAddToaddToQueue.textContent="Add to queue");r.refs.modalBackdrop.classList.add("active"),r.refs.modalFilm.classList.add("active"),b.find((function(t){if(t.id===e)return _(t)})),L.find((function(t){if(t.id===e)return _(t)}))}(t),t})),r.refs.btnAddToWatch.addEventListener("click",v),r.refs.btnAddToaddToQueue.addEventListener("click",v);var y="",b="",L="";function _(t){var n,l=t.genres.map((function(e){return e.name})).join(", "),a=t.vote_average.toFixed(1),i=Math.round(t.popularity),d=(n={poster_path:t.poster_path,title:t.title,id:t.id},e(o)(n,"title",t.title),e(o)(n,"name",t.name),e(o)(n,"genreVoit",a),e(o)(n,"vote_count",t.vote_count),e(o)(n,"genrePopularity",i),e(o)(n,"original_title",t.original_title),e(o)(n,"genreStr",l),e(o)(n,"overview",t.overview),n);return console.log(d),r.refs.filmCardEl.innerHTML=(0,m.default)(d)}}();
//# sourceMappingURL=library.5de4864e.js.map
