{"mappings":"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","sources":["src/library.js","src/js/libraryMain.js","src/templates/templateLibraryCard.hbs","src/js/modalFilmLibrary.js"],"sourcesContent":["import { modal } from './js/components/modal.js';\nimport { libraryMain } from './js/libraryMain.js';\nimport { scroll } from './js/scroll.js';\nimport { users } from './js/components/createMarkupModalTeam';\nimport { dayNightBtn } from './js/components/dayNightBTN';\nimport {modalFilmLibrary} from './js/modalFilmLibrary';\n","import { refs } from './references/references.js';\nimport templateLibraryCard from '../templates/templateLibraryCard.hbs';\n\n\nrefs.btnQueue.addEventListener('click', drawMyQueue);\nfunction drawMyQueue() {\n  refs.galleryLibraryEl.innerHTML = '';\n\n  refs.btnWatched.classList.remove('active-lbr');\n  refs.btnQueue.classList.add('active-lbr');\n  const filmInLocal = JSON.parse(localStorage.getItem('Add-to-queue'));\n\n  if (!filmInLocal || !filmInLocal.length) {\n    refs.noCard.classList.remove('visually-hidden');\n    return;\n  }\n\n  refs.noCard.classList.add('visually-hidden');\n\n  templateInfoLibrary(filmInLocal);\n}\n\nfunction templateInfoLibrary(item) {\n  const cardArr = item.map(i => {\n    const genreFilmsArr = i.genres.map(genre => genre.name);\n    const genreFilmStr = genreFilmsArr.join(', ');\n    const genreVoit = i.vote_average.toFixed(1);\n    const year = i.release_date.slice(0, 4);\n    return {\n      poster_path: i.poster_path,\n      title: i.title,\n      id: i.id,\n      title: i.title,\n      name: i.name,\n      genreVoit,\n      original_title: i.original_title,\n      genreFilmStr,\n      year,\n    };\n  });\n\n  refs.galleryLibraryEl.innerHTML = templateLibraryCard(cardArr);\n}\n\nrefs.btnWatched.addEventListener('click', drawMyWatched);\nfunction drawMyWatched() {\n  refs.galleryLibraryEl.innerHTML = '';\n\n  refs.btnQueue.classList.remove('active-lbr');\n  refs.btnWatched.classList.add('active-lbr');\n\n  const filmInLocal = JSON.parse(localStorage.getItem('Add-to-watched'));\n  if (!filmInLocal || !filmInLocal.length) {\n    refs.noCard.classList.remove('visually-hidden');\n    return;\n  }\n  refs.noCard.classList.add('visually-hidden');\n  templateInfoLibrary(filmInLocal);\n}\n\ndrawMyWatched();\n\n","{{#each this}}\n  <div class='library-wraper'>\n    <a\n      class='library-gallery__item'\n      href='#'\n      target='_blank'\n      rel='noopener noreferrer'\n    >\n\n      <img\n        src='{{poster_path}}'\n        class='library-card__img'\n        alt='{{title}}{{name}}'\n        id='{{id}}'\n      />\n      <div class='library-info'>\n        <h3 class='library-info__title'>{{title}}{{name}}</h3>\n        <div class='wrap-library'>\n          <p class='library-info__genre'>{{genreFilmStr}}|\n            {{year}}</p>\n          <span class='film-rating'>{{genreVoit}}</span>\n        </div>\n\n      </div>\n    </a>\n\n  </div>\n{{/each}}","import { refs } from './references/references';\nimport  templateModalCard  from '../templates/templateModalCard.hbs';\n\nrefs.galleryLibraryEl.addEventListener('click', onModalOpenFilmLibrary);\n// refs.btnAddToWatch.addEventListener('click', locSetOne);\n// refs.btnAddToaddToQueue.addEventListener('click', locSetOne);\n\nfunction onModalOpenFilmLibrary(e) {\n  e.preventDefault();\n\n  refs.filmCardEl.innerHTML = '';\n  //   refs.modalLoader.classList.add('loader-lines');\n  document.body.classList.add('body-is-hidden');\n\n  refs.modalFilmBtnClose.addEventListener('click', closeModal);\n  document.addEventListener('keydown', onEscBtnPress);\n  refs.modalBackdrop.addEventListener('click', onBackdropClick);\n\n  const idClickFilm = e.target.id;\n  console.log(idClickFilm);\n  getInfrofromLocalStorage(idClickFilm);\n}\n\nfunction closeModal() {\n  refs.modalBackdrop.classList.remove('active');\n  refs.modalFilm.classList.remove('active');\n  document.body.classList.remove('body-is-hidden');\n\n  refs.modalFilmBtnClose.removeEventListener('click', closeModal);\n  document.removeEventListener('keydown', onEscBtnPress);\n  refs.modalBackdrop.removeEventListener('click', onBackdropClick);\n}\n\nexport function onEscBtnPress(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n\nexport function onBackdropClick(e) {\n  if (e.target === refs.modalBackdrop) {\n    closeModal();\n  }\n}\n\nfunction getInfrofromLocalStorage(idfilm) {\n  const filmInLocalAdd = JSON.parse(localStorage.getItem('Add-to-watched'));\n  const filmInLocalQu = JSON.parse(localStorage.getItem('Add-to-queue'));\n idfilm = Number(idfilm);\n  const idLibraryObj = filmInLocalAdd.find(i => { if(i.id === idfilm ){\n     return i ;}}\n  );\n  console.log(idLibraryObj)\n  //     //  можна переписати окремою функцією\n  if (filmInLocalAdd) {\n    filmInLocalAdd.find(item => {\n      return item.id === idfilm;\n    })\n      ? (refs.btnAddToWatch.textContent = 'Remove Film')\n      : (refs.btnAddToWatch.textContent = 'Add to watched');\n  }\n  if (filmInLocalQu) {\n    filmInLocalQu.find(item => {\n      return item.id === idfilm;\n    })\n      ? (refs.btnAddToaddToQueue.textContent = 'Remove Film')\n      : (refs.btnAddToaddToQueue.textContent = 'Add to queue');\n  }\n\n  refs.modalBackdrop.classList.add('active');\n  refs.modalFilm.classList.add('active');\n\n  // console.log(item.id);\n\n    createFilmCardsLibrary(idLibraryObj);\n}\n``\nfunction createFilmCardsLibrary(i) {\n  //   refs.modalLoader.classList.remove('loader-points');\n  //   refs.modalLoader.classList.remove('loader-lines');\n\n  const genreArr = i.genres.map(genre => genre.name);\n  const genreStr = genreArr.join(', ');\n  const genreVoit = i.vote_average.toFixed(1);\n  const genrePopularity = Math.round(i.popularity);\n  const cardOb = {\n    poster_path: i.poster_path,\n    title: i.title,\n    id: i.id,\n    title: i.title,\n    name: i.name,\n    genreVoit,\n    vote_count: i.vote_count,\n    genrePopularity,\n    original_title: i.original_title,\n    genreStr,\n    overview: i.overview,\n  };\nconsole.log(cardOb);\n  return refs.filmCardEl.innerHTML = templateModalCard(cardOb);\n}\n\n// // функція що додає фільм в локалсторедж по ключу(текст який вказаний на кнопці), в задежносты на яку кнопку тиснеш\n// export async function locSetOne(e) {\n//   try {\n//     let key = '';\n//     if (e.target.classList.value === 'film-card-addToWatched') {\n//       key = 'Add-to-watched';\n//       console.log(key, 22);\n//     }\n//     if (e.target.classList.value === 'film-card-addToQueue') {\n//       key = 'Add-to-queue';\n//       console.log(key, 23);\n//     }\n\n//     key = key.trim().split(' ').join('-');\n\n//     let filmToAdd = await findMovies.find();\n//     console.log(filmToAdd);\n//     console.log(e.target.classList.value);¸"],"names":["parcelRequire","$ewTWP","$2ab5f21548b439fd$export$2e2bcd8739ae039","$parcel$interopDefault","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","name","hash","loc","start","line","column","end","compiler","main","stack1","fn","program","inverse","noop","useData","$b11c0b313928487a$var$templateInfoLibrary","item","cardArr","map","i","genreFilmStr","genres","genre","join","genreVoit","vote_average","toFixed","year","release_date","slice","poster_path","title","id","original_title","refs","galleryLibraryEl","innerHTML","$b11c0b313928487a$var$drawMyWatched","btnQueue","classList","remove","btnWatched","add","filmInLocal","JSON","parse","localStorage","getItem","length","noCard","addEventListener","$67909cd6049d17a9$var$closeModal","modalBackdrop","modalFilm","document","body","modalFilmBtnClose","removeEventListener","$67909cd6049d17a9$export$93e6124d52ad50a8","$67909cd6049d17a9$export$21e7b9f4635e7aa6","e","code","target","preventDefault","filmCardEl","idClickFilm","console","log","idfilm","filmInLocalAdd","filmInLocalQu","Number","idLibraryObj","find","btnAddToWatch","textContent","btnAddToaddToQueue","genreStr","genrePopularity","Math","round","popularity","cardOb","vote_count","overview","$lgp3Q","default","$67909cd6049d17a9$var$createFilmCardsLibrary","$67909cd6049d17a9$var$getInfrofromLocalStorage"],"version":3,"file":"library.495bf23b.js.map"}