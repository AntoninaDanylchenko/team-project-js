function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},l={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in l){var n=l[e];delete l[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){l[e]=n},n.parcelRequired7c6=a),a("8IXMh");var r=a("ewTWP");var i=e(a("amrNH")).template({1:function(e,n,t,l,a){var r,i=null!=n?n:e.nullContext||{},o=e.hooks.helperMissing,s="function",d=e.escapeExpression,c=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"  <div class='library-wraper'>\n    <a\n      class='library-gallery__item'\n      href='#'\n      target='_blank'\n      rel='noopener noreferrer'\n    >\n\n      <img\n        src='"+d(typeof(r=null!=(r=c(t,"poster_path")||(null!=n?c(n,"poster_path"):n))?r:o)===s?r.call(i,{name:"poster_path",hash:{},data:a,loc:{start:{line:11,column:13},end:{line:11,column:28}}}):r)+"'\n        class='library-card__img'\n        alt='"+d(typeof(r=null!=(r=c(t,"title")||(null!=n?c(n,"title"):n))?r:o)===s?r.call(i,{name:"title",hash:{},data:a,loc:{start:{line:13,column:13},end:{line:13,column:22}}}):r)+d(typeof(r=null!=(r=c(t,"name")||(null!=n?c(n,"name"):n))?r:o)===s?r.call(i,{name:"name",hash:{},data:a,loc:{start:{line:13,column:22},end:{line:13,column:30}}}):r)+"'\n        id='"+d(typeof(r=null!=(r=c(t,"id")||(null!=n?c(n,"id"):n))?r:o)===s?r.call(i,{name:"id",hash:{},data:a,loc:{start:{line:14,column:12},end:{line:14,column:18}}}):r)+"'\n      />\n      <div class='library-info'>\n        <h3 class='library-info__title'>"+d(typeof(r=null!=(r=c(t,"title")||(null!=n?c(n,"title"):n))?r:o)===s?r.call(i,{name:"title",hash:{},data:a,loc:{start:{line:17,column:40},end:{line:17,column:49}}}):r)+d(typeof(r=null!=(r=c(t,"name")||(null!=n?c(n,"name"):n))?r:o)===s?r.call(i,{name:"name",hash:{},data:a,loc:{start:{line:17,column:49},end:{line:17,column:57}}}):r)+"</h3>\n        <div class='wrap-library'>\n          <p class='library-info__genre'>"+d(typeof(r=null!=(r=c(t,"genreFilmStr")||(null!=n?c(n,"genreFilmStr"):n))?r:o)===s?r.call(i,{name:"genreFilmStr",hash:{},data:a,loc:{start:{line:19,column:41},end:{line:19,column:57}}}):r)+"|\n            "+d(typeof(r=null!=(r=c(t,"year")||(null!=n?c(n,"year"):n))?r:o)===s?r.call(i,{name:"year",hash:{},data:a,loc:{start:{line:20,column:12},end:{line:20,column:20}}}):r)+"</p>\n          <span class='film-rating'>"+d(typeof(r=null!=(r=c(t,"genreVoit")||(null!=n?c(n,"genreVoit"):n))?r:o)===s?r.call(i,{name:"genreVoit",hash:{},data:a,loc:{start:{line:21,column:36},end:{line:21,column:49}}}):r)+"</span>\n        </div>\n\n      </div>\n    </a>\n\n  </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,l,a){var r;return null!=(r=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:28,column:9}}}))?r:""},useData:!0});function o(e){const n=e.map((e=>{const n=e.genres.map((e=>e.name)).join(", "),t=e.vote_average.toFixed(1),l=e.release_date.slice(0,4);return{poster_path:e.poster_path,title:e.title,id:e.id,title:e.title,name:e.name,genreVoit:t,original_title:e.original_title,genreFilmStr:n,year:l}}));r.refs.galleryLibraryEl.innerHTML=i(n)}function s(){r.refs.galleryLibraryEl.innerHTML="",r.refs.btnQueue.classList.remove("active-lbr"),r.refs.btnWatched.classList.add("active-lbr");const e=JSON.parse(localStorage.getItem("Add-to-watched"));e&&e.length?(r.refs.noCard.classList.add("visually-hidden"),o(e)):r.refs.noCard.classList.remove("visually-hidden")}r.refs.btnQueue.addEventListener("click",(function(){r.refs.galleryLibraryEl.innerHTML="",r.refs.btnWatched.classList.remove("active-lbr"),r.refs.btnQueue.classList.add("active-lbr");const e=JSON.parse(localStorage.getItem("Add-to-queue"));if(!e||!e.length)return void r.refs.noCard.classList.remove("visually-hidden");r.refs.noCard.classList.add("visually-hidden"),o(e)})),r.refs.btnWatched.addEventListener("click",s),s(),a("2YGUk"),a("3J1up"),a("iAjJe");r=a("ewTWP");var d=a("lgp3Q");function c(){r.refs.modalBackdrop.classList.remove("active"),r.refs.modalFilm.classList.remove("active"),document.body.classList.remove("body-is-hidden"),r.refs.modalFilmBtnClose.removeEventListener("click",c),document.removeEventListener("keydown",u),r.refs.modalBackdrop.removeEventListener("click",m)}function u(e){"Escape"===e.code&&c()}function m(e){e.target===r.refs.modalBackdrop&&c()}function f(e){const n=e.genres.map((e=>e.name)).join(", "),t=e.vote_average.toFixed(1),l=Math.round(e.popularity),a={poster_path:e.poster_path,title:e.title,id:e.id,title:e.title,name:e.name,genreVoit:t,vote_count:e.vote_count,genrePopularity:l,original_title:e.original_title,genreStr:n,overview:e.overview};return console.log(a),r.refs.filmCardEl.innerHTML=(0,d.default)(a)}r.refs.galleryLibraryEl.addEventListener("click",(function(e){e.preventDefault(),r.refs.filmCardEl.innerHTML="",document.body.classList.add("body-is-hidden"),r.refs.modalFilmBtnClose.addEventListener("click",c),document.addEventListener("keydown",u),r.refs.modalBackdrop.addEventListener("click",m);const n=e.target.id;console.log(n),function(e){const n=JSON.parse(localStorage.getItem("Add-to-watched")),t=JSON.parse(localStorage.getItem("Add-to-queue"));e=Number(e),n&&(n.find((n=>n.id===e))?r.refs.btnAddToWatch.textContent="Remove Film":r.refs.btnAddToWatch.textContent="Add to watched");t&&(t.find((n=>n.id===e))?r.refs.btnAddToaddToQueue.textContent="Remove Film":r.refs.btnAddToaddToQueue.textContent="Add to queue");r.refs.modalBackdrop.classList.add("active"),r.refs.modalFilm.classList.add("active"),n.find((n=>{if(n.id===e)return f(n)})),t.find((n=>{if(n.id===e)return f(n)}))}(n)}));
//# sourceMappingURL=library.fd7bb0a0.js.map
